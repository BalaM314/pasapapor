Mapping between subject code and page for A levels

const aLevelData = [["8021","as-and-a-level-general-paper-as-level-only-8021"],["8022","as-level-spanish-language-8022"],["8027","as-level-german-language-8027"],["8028","as-level-french-language-8028"],["8238","as-level-chinese-language-8238"],["8281","as-and-a-level-japanese-language-as-level-only-8281"],["8291","as-and-a-level-environmental-management-8291"],["8386","as-level-sport-and-physical-education-8386"],["8665","as-and-a-level-spanish-first-language-as-level-only-8665"],["8673","as-and-a-level-spanish-literature-as-level-only-8673"],["8675","as-and-a-level-hindi-literature-as-level-only-8675"],["8679","as-level-afrikaans-language-as-level-only-8679"],["8680","as-and-a-level-arabic-language-as-level-only-8680"],["8681","as-and-a-level-chinese-language-as-level-only-8681"],["8682","as-and-a-level-french-language-as-level-only-8682"],["8683","as-and-a-level-german-language-as-level-only-8683"],["8684","as-and-a-level-portuguese-language-as-level-only-8684"],["8685","as-and-a-level-spanish-language-as-level-only-8685"],["8686","as-and-a-level-urdu-language-as-level-only-8686"],["8687","as-and-a-level-hindi-language-as-level-only-8687"],["8689","as-and-a-level-tamil-language-as-level-only-8689"],["8695","as-and-a-level-english-language-and-literature-as-level-only-8695"],["9084","as-and-a-level-law-9084"],["9093","as-and-a-level-english-language-9093"],["9231","as-and-a-level-mathematics-further-9231"],["9239","as-and-a-level-global-perspectives-and-research-9239"],["9274","as-and-a-level-classical-studies-9274"],["9395","as-and-a-level-travel-and-tourism-9395"],["9396","as-and-a-level-physical-education-9396"],["9479","as-and-a-level-art-and-design-9479"],["9481","as-and-a-level-digital-media-design-9481"],["9482","as-and-a-level-drama-9482"],["9483","as-and-a-level-music-9483"],["9484","as-and-a-level-biblical-studies-9484"],["9487","as-and-a-level-hinduism-9487"],["9488","as-and-a-level-islamic-studies-9488"],["9489","as-and-a-level-history-9489"],["9607","as-and-a-level-media-studies-9607"],["9609","as-and-a-level-business-9609"],["9618","as-and-a-level-computer-science-9618"],["9626","as-and-a-level-information-technology-9626"],["9631","as-and-a-level-design-and-textiles-9631"],["9676","as-and-a-level-urdu-9676"],["9680","as-and-a-level-arabic-9680"],["9686","as-and-a-level-urdu-pakistan-only-9686"],["9687","as-and-a-level-hindi-9687"],["9689","as-and-a-level-tamil-9689"],["9693","as-and-a-level-marine-science-9693"],["9694","as-and-a-level-thinking-skills-9694"],["9695","as-and-a-level-english-literature-9695"],["9696","as-and-a-level-geography-9696"],["9699","as-and-a-level-sociology-9699"],["9700","as-and-a-level-biology-9700"],["9701","as-and-a-level-chemistry-9701"],["9702","as-and-a-level-physics-9702"],["9705","as-and-a-level-design-and-technology-9705"],["9706","as-and-a-level-accounting-9706"],["9708","as-and-a-level-economics-9708"],["9709","as-and-a-level-mathematics-9709"],["9715","as-and-a-level-chinese-9715"],["9716","as-and-a-level-french-9716"],["9717","as-and-a-level-german-9717"],["9718","as-and-a-level-portuguese-9718"],["9719","as-and-a-level-spanish-9719"],["9844","as-and-a-level-spanish-language-and-literature-9844"],["9868","as-and-a-level-chinese-language-and-literature-9868"],["9897","as-and-a-level-german-9897"],["9898","as-and-a-level-french-language-literature-9898"],["9990","as-and-a-level-psychology-9990"]]
//[code, url] url: https://www.cambridgeinternational.org/programmes-and-qualifications/cambridge-international-{{url}}/
// Code to get mapping:
data = $$("div#chooseSubject div.yui3-g div.yui3-u-1.yui3-u-sm-1-2 div.yui3-c ul li ul li a").map(a => [a.href.match(/\d{4}/)?.[0] ?? "0991", a.href.split("https://www.cambridgeinternational.org/programmes-and-qualifications/")[1].slice(0, -1)])



//Scrape syllabus info
async function scrapeUrl(url){
	const syllabi = (await (await fetch(url)).text()).match(/<a href="\/Images\/(\d{6}-20\d{2}(?:-20\d{2})?)-syllabus.pdf"/g);
	if(!syllabi){
		console.error(`No syllabi found for url ${url}`);
		return [];
	}
	return syllabi.map(r => /<a href="\/Images\/(\d{6}-20\d{2}(?:-20\d{2})?)-syllabus.pdf"/.exec(r)[1])
}
async function scraper(){
	const out = {};
	for(const [code, urlFragment] of data){
		const url = `https://www.cambridgeinternational.org/programmes-and-qualifications/cambridge-international-${urlFragment}/`;
		const url = `https://www.cambridgeinternational.org/programmes-and-qualifications/${urlFragment}/`;
		console.log("Scraping " + url);
		out[code] = await scrapeUrl(url);
	}
	return out;
}
//syllabus url: `https://www.cambridgeinternational.org/Images/${fragment}-syllabus.pdf`
data:
{"8021":["557265-2022-2024","664519-2025-2027"],"8022":["635236-2024-2026"],"8027":["663716-2025-2027"],"8028":["664288-2025-2027"],"8238":["635239-2024-2026"],"8281":["597284-2023"],"8291":["557262-2022-2024","664522-2025-2027"],"8386":["635241-2024-2026"],"8665":["597291-2023"],"8673":["597365-2023"],"8675":["597294-2023"],"8679":["597297-2023-2024","664524-2025-2026"],"8680":["597350-2023-2024","664527-2025"],"8681":["597353-2023"],"8682":["597356-2023","635867-2024"],"8683":["https://www.cambridgeinternational.org/Images/597359-2023-2024-syllabus-.pdf"],"8684":["597362-2023","635874-2024","664529-2025"],"8685":["597365-2023"],"8686":["597371-2023","635890-2024","664531-2025-2026"],"8687":["597375-2023"],"8689":["597378-2023","635894-2024-2025"],"8695":["502929-2021-2023","635896-2024-2026"],"9084":["595453-2023-2025"],"9093":["502932-2021-2023","635901-2024-2026"],"9231":["597381-2023-2025"],"9239":["595455-2023-2025"],"9274":["557256-2022-2024","664534-2025-2027"],"9395":["597384-2023","634457-2024-2026"],"9396":["597683-2023"],"9479":["557248-2022-2024","664536-2025"],"9481":["557245-2022-2024","664544-2025"],"9482":["554592-2021-2023","635919-2024-2026"],"9483":["557243-2022-2024","664546-2025-2026"],"9484":["596449-2023","636040-2024-2026"],"9487":["521992-2021-2023","636056-2024-2025"],"9488":["502933-2021-2023","636058-2024-2026"],"9489":["502955-2021-2023","636122-2024-2025"],"9607":["502957-2021-2023","636087-2024-2026"],"9609":["595459-2023-2025"],"9618":["502962-2021-2023","636089-2024-2025"],"9626":["554602-2022-2024","662482-2025-2027"],"9631":["557238-2022-2023"],"9676":["597387-2023","636091-2024"],"9680":["597390-2023-2024","664549-2025"],"9686":["597395-2023","636093-2024","664551-2025-2026"],"9687":["597402-2023"],"9689":["597409-2023","636095-2024-2025"],"9693":["554604-2022-2024","664553-2025-2027"],"9694":["597412-2023-2025"],"9695":["502967-2021-2023","636097-2024-2026"],"9696":["597415-2023-2024","664556-2025-2026"],"9699":["502972-2021-2023","636099-2024-2026"],"9700":["554607-2022-2024","664560-2025-2027"],"9701":["554616-2022-2024","664563-2025-2027"],"9702":["554625-2022-2024","664565-2025-2027"],"9705":["597418-2023","651351-2024","675267-2025-2027"],"9706":["595461-2023-2025"],"9708":["595463-2023-2025"],"9709":["597421-2023-2025"],"9715":["597423-2023"],"9716":["597426-2023","636101-2024"],"9717":["597429-2023-2024"],"9718":["597432-2023","636103-2024","664567-2025"],"9719":["597443-2023"],"9844":["649879-2024-2026"],"9868":["649875-2024-2026"],"9897":["664366-2025-2027"],"9898":["664368-2025-2027"],"9990":["502977-2021-2023","634461-2024-2026"]}
{"7156":["557182-2022-2024","664663-2025-2027"],"7159":["557185-2022-2024","664665-2025-2027"],"7160":["557188-2022-2024","664667-2025-2027"],"7164":["557191-2022-2024","664669-2025-2027"],"7184":["557197-2022-2023","635845-2024-2025","697270-2026"],"0452":["596935-2023-2025","697149-2026"],"0985":["597108-2023-2025","697252-2026"],"0548":["663200-2023-2024","663202-2025-2027"],"0600":["597040-2023","635762-2024-2025","697200-2026"],"0508":["556901-2022-2023","635760-2024-2025","697182-2026"],"0544":["556993-2022-2024","664635-2025-2027"],"0400":["596905-2023","635731-2024","664588-2025","697135-2026"],"0989":["597132-2023","635780-2024","664655-2025","697261-2026"],"0538":["556142-2022-2024","664631-2025-2027"],"0610":["595426-2023-2025","697203-2026-2028"],"0970":["697234-2026-2028"],"0450":["596930-2023-2025","697146-2026"],"0986":["597113-2023-2025","697256-2026"],"0620":["595428-2023-2025","697205-2026-2028"],"0971":["595434-2023-2025","697236-2026-2028"],"0509":["596963-2023-2025","697185-2026-2027"],"0523":["596966-2023-2025","697191-2026-2027"],"0547":["554588-2022-2024","664639-2025-2027"],"0478":["595424-2023-2025","697167-2026-2028"],"0984":["595440-2023-2025","697248-2026-2028"],"0445":["652361-2023","635750-2024-2026"],"0979":["597100-2023","635778-2024-2026"],"0411":["554581-2022-2024","664602-2025-2027"],"0994":["554650-2022-2024","664659-2025-2027"],"0455":["596945-2023-2025","697154-2026"],"0987":["597118-2023-2025","697258-2026"],"0500":["596961-2023","635230-2024-2026"],"0990":["414546-2020-2022","597137-2023","635234-2024-2026"],"0524":["596968-2023","635232-2024","664622-2025-2027"],"0427":["596917-2023","635747-2024"],"0475":["596436-2023-2025","697163-2026"],"0992":["596445-2023-2025","697264-2026"],"0472":["610940-2023-2025","697158-2026-2028"],"0772":["635395-2023-2025","697231-2026-2028"],"0465":["662459-2024-2026"],"0511":["556911-2022-2023","637163-2024-2026"],"0991":["557045-2022-2023","637361-2024-2026"],"0510":["556906-2022-2023","637160-2024-2026"],"0993":["557051-2022-2023","637363-2024-2026"],"0454":["596938-2023","636114-2024-2025","697151-2026"],"0680":["557023-2022-2024","664643-2025-2026"],"0648":["597055-2023-2025","697228-2026-2028"],"0501":["697179-2026"],"0520":["556974-2022-2024","664620-2025-2027"],"0460":["596947-2023","636118-2024","664610-2025-2026"],"0976":["597082-2023","635766-2024","664647-2025-2026"],"0505":["596442-2023-2025","697181-2026"],"0525":["556981-2022-2024","664624-2025-2027"],"0457":["555760-2022-2024","662457-2025-2027"],"0549":["597032-2023-2025","697196-2026"],"0470":["596950-2023","649636-2024-2026"],"0409":["555747-2022-2024","664594-2025-2027"],"0977":["597087-2023","649638-2024-2026"],"0417":["595352-2023-2025","697139-2026-2028"],"0983":["595438-2023-2025","697246-2026-2028"],"0531":["663182-2023-2024","663184-2025-2027"],"0493":["635758-2024-2025","697174-2026-2027"],"0535":["556986-2022-2024","664629-2025-2027"],"0480":["596955-2023-2025","697172-2026-2028"],"0696":["664645-2025-2027"],"0546":["554587-2022-2024","664637-2025-2027"],"0697":["597073-2023","634451-2024-2026"],"0580":["597037-2023-2024","662466-2025-2027"],"0606":["597045-2023-2024","662470-2025-2027"],"0607":["597050-2023-2024","662472-2025-2027"],"0980":["597105-2023-2024","663105-2025-2027"],"0444":["573813-2022-2024","706337-2025"],"0410":["596914-2023","635739-2024","664596-2025","694052-2026-2028"],"0978":["597093-2023","635771-2024","664651-2025","694054-2026-2028"],"0448":["596925-2023","635752-2024","664608-2025","697142-2026"],"0413":["555751-2022-2024","664604-2025-2026"],"0995":["557055-2022-2024","664661-2025-2026"],"0652":["597060-2023-2024","664641-2025-2026"],"0625":["595430-2023-2025"],"0972":["595436-2023-2025"],"0504":["556888-2022-2024","663168-2025-2027"],"0490":["556870-2022-2023","635755-2024","663158-2025-2027"],"0499":["556874-2022-2024","664612-2025-2027"],"0653":["597065-2023-2024","662474-2025-2027"],"0973":["597076-2023-2024","664570-2025-2027"],"0654":["597069-2023-2024","664572-2025-2027"],"0698":["663220-2025-2027"],"0495":["596957-2023-2024","662464-2025-2027"],"0502":["554582-2022-2024","664614-2025-2027"],"0530":["556984-2022-2024","664626-2025-2027"],"0488":["568948-2022-2023","635753-2024"],"0474":["663145-2025-2027"],"0262":["555741-2022-2024","664586-2025-2027"],"0518":["556971-2022-2024","664618-2025-2027"],"0471":["596953-2023","634449-2024-2026"],"0513":["646464-2022-2024","664970-2025-2027"],"0539":["556991-2022-2024","664633-2025-2027"],"0695":["683274-2025-2027"],"0408":["555745-2022-2024","664592-2025-2027"]}
